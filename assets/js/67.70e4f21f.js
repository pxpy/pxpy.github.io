(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{480:function(s,a,t){"use strict";t.r(a);var e=t(3),n=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("ArticleTopAd"),s._v(" "),a("h2",{attrs:{id:"前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[s._v("#")]),s._v(" 前言")]),s._v(" "),a("p",[s._v("cent os 8版本放弃了\n服务器centos7\n个人使用Ubuntu")]),s._v(" "),a("h2",{attrs:{id:"虚拟机安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#虚拟机安装"}},[s._v("#")]),s._v(" 虚拟机安装")]),s._v(" "),a("p",[s._v("安装盘选择自动\n默认最小安装是只有命令行，选择GNOME桌面\n"),a("img",{attrs:{src:"https://cdn.staticaly.com/gh/pxpy/img@master/image.74q1m1u7cmg0.webp",alt:"image"}})]),s._v(" "),a("p",[s._v("VirtualBox安装完CentOS7后无法调节分辨率，需要安装额外的工具。")]),s._v(" "),a("h3",{attrs:{id:"安装依赖包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装依赖包"}},[s._v("#")]),s._v(" 安装依赖包")]),s._v(" "),a("p",[s._v("首先确保虚拟机能正常连接网络，需要手动点击联网，打开火狐浏览器测试下看看。\n然后安装：kernel、kernel-core、kernel-modules、kernel-devel、gcc、make、perl、elfutils-libelf-devel：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" kernel kernel-core kernel-modules kernel-devel gcc "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" perl elfutils-libelf-devel \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("检查kernel源码是否与内核版本是否一致：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" /usr/src/kernels\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("uname")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-r")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("不一致是正常的，因为此时需要重启选择新的内核版本，然后再次检查：将会一样")]),s._v(" "),a("h3",{attrs:{id:"安装增强工具"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装增强工具"}},[s._v("#")]),s._v(" 安装增强工具")]),s._v(" "),a("p",[s._v("设备-安装增强工具\n视图-自动调整试图尺寸\n设置大号文本")]),s._v(" "),a("h2",{attrs:{id:"基本操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基本操作"}},[s._v("#")]),s._v(" 基本操作")]),s._v(" "),a("p",[s._v("ifconfig 查看ip\n虚拟机采用网桥方式联网\nsudo mkdir java 创建java文件夹\nsu 账户名 切换账户")]),s._v(" "),a("h3",{attrs:{id:"ping通"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ping通"}},[s._v("#")]),s._v(" ping通")]),s._v(" "),a("p",[s._v("主机可以直接ping通虚拟机")]),s._v(" "),a("p",[s._v("虚拟机ping主机：")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("临时使用，主机关闭防火墙(不推荐)")])]),s._v(" "),a("li",[a("p",[s._v("打开安全中心，选择防火墙和网络保护，查看你使用的网络是域网络、专用网络、还是公用网络？然后点击高级设置")])])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.staticaly.com/gh/pxpy/img@master/image.7hz05qv8s400.webp",alt:"image"}})]),s._v(" "),a("p",[s._v('找到配置文件类型为你的网络类型（专用、公用、域）的"文件和打印共享（回显请求 – ICMPv4-In）"规则，设置为允许。')]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.staticaly.com/gh/pxpy/img@master/image.7fltznq4fpo0.webp",alt:"image"}})]),s._v(" "),a("h3",{attrs:{id:"文件权限管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文件权限管理"}},[s._v("#")]),s._v(" 文件权限管理")]),s._v(" "),a("p",[s._v("任何文件都有权限\n[pan@localhost ~] ~表示home目录\nll命令查看权限")]),s._v(" "),a("p",[s._v("第一个字母\nd 目录 蓝紫色\nl 链接文档，类似于快捷方式天蓝色\n-文件\n后面字符三个一组，为r(read)w(write)x(execute)-的任意组合\n属主权限，创建者\n属组权限，与创建者同组的用户\n其它用户权限\nr 1\nw 2\nx 4\n给java赋所有权限，文件夹绿底显示")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("777")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("java")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("mkdir 创建文件夹\nrmdir 删除空目录\ncp  源文件 目标文件   复制文件")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" /usr/java/TMP.txt ~/linshi.txt\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("strong",[s._v("rm删除文件")]),s._v("\nrm 文件/目录"),a("br"),s._v("\n-r 递归删除，慎用\n"),a("strong",[s._v("mv移动")])]),s._v(" "),a("h3",{attrs:{id:"文件内容的查看"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文件内容的查看"}},[s._v("#")]),s._v(" 文件内容的查看")]),s._v(" "),a("p",[s._v("cat TMP.txt\n-b 显示行号")]),s._v(" "),a("h2",{attrs:{id:"vim"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vim"}},[s._v("#")]),s._v(" vim")]),s._v(" "),a("p",[s._v("i或vim\n进入后，按i才能编辑，屏幕下方会出现INSERT字样，此时可以修改内容\n按ESC，退回命令模式\n:x是保存退出\n:q!是不保存退出\n:wq!保存并退出")]),s._v(" "),a("h2",{attrs:{id:"工具软件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#工具软件"}},[s._v("#")]),s._v(" 工具软件")]),s._v(" "),a("p",[s._v("WinScp")]),s._v(" "),a("h2",{attrs:{id:"部署java-web项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#部署java-web项目"}},[s._v("#")]),s._v(" 部署Java web项目")]),s._v(" "),a("h3",{attrs:{id:"java及tomcat"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#java及tomcat"}},[s._v("#")]),s._v(" java及tomcat")]),s._v(" "),a("p",[s._v("上传jdk及tomcat压缩包\n/etc/profile文件尾部添加")]),s._v(" "),a("div",{staticClass:"language-pure line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-pure"}},[a("code",[s._v("export JAVA_HOME"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=/")]),s._v("usr"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("java"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("jdk1"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.0")]),s._v("_181\nexport CLASSPATH"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=$:")]),s._v("CLASSPATH"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":$")]),s._v("JAVA_HOME"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("lib"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("\nexport PATH"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=$")]),s._v("PATH"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":$")]),s._v("JAVA_HOME"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bin \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("启动tomcat\n在tomcat bin目录\n./startup.sh\nVirtualBox关闭防火墙的方式和vm不一样")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("systemctl stop firewalld.service "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#停止firewall")]),s._v("\nsystemctl disable firewalld.service "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#禁止firewall开机启动")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"mysql数据库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mysql数据库"}},[s._v("#")]),s._v(" MySQL数据库")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -qa"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-i")]),s._v(" mariadb \n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("su")]),s._v(" root\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -qa"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" mariadb"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("xargs")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-e")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--nodeps")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://dev.mysql.com/get/mysql57-community-release-el7-9.noarch.rpm\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-ivh")]),s._v(" mysql57-community-release-el7-9.noarch.rpm\nyum repolist all "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" mysql\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 开始下载安装")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" mysql-server "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--nogpgcheck")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看mysql是否安装成功")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-qa")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" mysql \nsystemctl start mysqld.service "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#启动 mysql")]),s._v("\nsystemctl restart mysqld.service "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#重启 mysql")]),s._v("\nsystemctl stop mysqld.service "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#停止 mysql")]),s._v("\nsystemctl "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" mysqld.service "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#设置 mysql 开机启动 ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看密码，在文件中查找temp词")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /var/log/mysqld.log "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" temp\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入mysql")]),s._v("\nmysql "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-uroot")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置密码验证")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" global "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("validate_password_policy")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("LOW"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" global "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("validate_password_length")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改密码")]),s._v("\nalter user "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'root'")]),s._v("@"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'localhost'")]),s._v(" identified BY "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'新的密码'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 允许外部访问")]),s._v("\nGRANT ALL PRIVILEGES ON *.* TO root@"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"%"')]),s._v(" IDENTIFIED BY "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"root"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br")])]),a("h3",{attrs:{id:"redis"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#redis"}},[s._v("#")]),s._v(" redis")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://download.redis.io/releases/redis-7.0.2.tar.gz\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-zxf")]),s._v(" redis-7.0.2.tar.gz \n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" redis-7.0.2 \n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" \n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" \nredis-server \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h2",{attrs:{id:"参考"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[s._v("#")]),s._v(" 参考")]),s._v(" "),a("p",[s._v("https://zhuanlan.zhihu.com/p/530164670")]),s._v(" "),a("p",[s._v("我的博客即将同步至腾讯云开发者社区，邀请大家一同入驻：https://cloud.tencent.com/developer/support-plan?invite_code=38dpnhkh4o8wo")])],1)}),[],!1,null,null,null);a.default=n.exports}}]);